{"version":3,"sources":["../../src/common/Player.js"],"names":["Player","gameEngine","Renderer","getInstance","addPlayer","removePlayer","color","costume","emote","keydown","room","Object","assign","type","BaseTypes","TYPES","STRING","INT8","options","props","randomColor","Math","floor","random","toString","other","velocity","percent","DynamicObject"],"mappings":";;;;;;;AAAA;;;;;;;;;;;;;;;;;;;;;;;;IAEqBA,M;;;;;;;iCAYJC,U,EAAY;AACrB,UAAIC,iBAAJ,EAAc;AACVA,0BAASC,WAAT,GAAuBC,SAAvB,CAAiC,IAAjC;AACH;AACJ;;;sCAEiBH,U,EAAY;AAC1B,UAAIC,iBAAJ,EAAc;AACVA,0BAASC,WAAT,GAAuBE,YAAvB,CAAoC,IAApC;AACH;AACJ;;;+BAEU;AACP,uHAA4C,KAAKC,KAAjD,sBAAkE,KAAKC,OAAvE,oBAAwF,KAAKC,KAA7F,sBAA8G,KAAKC,OAAnH,mBAAmI,KAAKC,IAAxI;AACH;;;wBAxBsB;AACnB,aAAOC,MAAM,CAACC,MAAP,CAAc;AACjBN,QAAAA,KAAK,EAAE;AAAEO,UAAAA,IAAI,EAAEC,mBAAUC,KAAV,CAAgBC;AAAxB,SADU;AAEjBT,QAAAA,OAAO,EAAE;AAACM,UAAAA,IAAI,EAAEC,mBAAUC,KAAV,CAAgBE;AAAvB,SAFQ;AAGjBT,QAAAA,KAAK,EAAE;AAACK,UAAAA,IAAI,EAAEC,mBAAUC,KAAV,CAAgBC;AAAvB,SAHU;AAIjBP,QAAAA,OAAO,EAAE;AAACI,UAAAA,IAAI,EAAEC,mBAAUC,KAAV,CAAgBC;AAAvB,SAJQ;AAKjBN,QAAAA,IAAI,EAAE;AAACG,UAAAA,IAAI,EAAEC,mBAAUC,KAAV,CAAgBC;AAAvB;AALW,OAAd,mDAAP;AAOH;;;AAkBD,kBAAYf,UAAZ,EAAwBiB,OAAxB,EAAiCC,KAAjC,EAAwC;AAAA;;AAAA;;AACpC,gFAAMlB,UAAN,EAAkBiB,OAAlB,EAA2BC,KAA3B;AAEA,QAAIC,WAAW,GAAG,MAAMC,IAAI,CAACC,KAAL,CAAWD,IAAI,CAACE,MAAL,KAAc,QAAzB,EAAmCC,QAAnC,CAA4C,EAA5C,CAAxB;AACA,UAAKlB,KAAL,GAAac,WAAb;AAEA,UAAKb,OAAL,GAAec,IAAI,CAACC,KAAL,CAAWD,IAAI,CAACE,MAAL,KAAgB,CAA3B,IAAgC,CAA/C;AAEA,UAAKf,KAAL,GAAa,GAAb;AACA,UAAKC,OAAL,GAAe,GAAf;AACA,UAAKC,IAAL,GAAY,QAAZ;AAVoC;AAWvC,G,CAED;;;;;2BAKOe,K,EAAO;AACV,yEAAaA,KAAb;;AACA,WAAKnB,KAAL,GAAamB,KAAK,CAACnB,KAAnB;AACA,WAAKE,KAAL,GAAaiB,KAAK,CAACjB,KAAnB;AACA,WAAKC,OAAL,GAAegB,KAAK,CAAChB,OAArB;AACA,WAAKC,IAAL,GAAYe,KAAK,CAACf,IAAlB;AACH;;;wBAVa;AACV,aAAO;AAAEgB,QAAAA,QAAQ,EAAE;AAAEC,UAAAA,OAAO,EAAE;AAAX;AAAZ,OAAP;AACH;;;;EA5C+BC,sB","sourcesContent":["import {BaseTypes, DynamicObject, Renderer} from 'lance-gg';\r\n\r\nexport default class Player extends DynamicObject {\r\n\r\n    static get netScheme() {\r\n        return Object.assign({\r\n            color: { type: BaseTypes.TYPES.STRING },\r\n            costume: {type: BaseTypes.TYPES.INT8},\r\n            emote: {type: BaseTypes.TYPES.STRING},\r\n            keydown: {type: BaseTypes.TYPES.STRING},\r\n            room: {type: BaseTypes.TYPES.STRING}\r\n        }, super.netScheme);\r\n    }\r\n\r\n    onAddToWorld(gameEngine) {\r\n        if (Renderer) {\r\n            Renderer.getInstance().addPlayer(this);\r\n        }\r\n    }\r\n\r\n    onRemoveFromWorld(gameEngine) {\r\n        if (Renderer) {\r\n            Renderer.getInstance().removePlayer(this);\r\n        }\r\n    }\r\n\r\n    toString() {\r\n        return `Player::${super.toString()} color=${this.color} costume=${this.costume} emote=${this.emote} keydown=${this.keydown} room=${this.room}`;\r\n    }\r\n\r\n    constructor(gameEngine, options, props) {\r\n        super(gameEngine, options, props);\r\n\r\n        var randomColor = \"#\" + Math.floor(Math.random()*16777215).toString(16);\r\n        this.color = randomColor;\r\n\r\n        this.costume = Math.floor(Math.random() * 6) + 1;\r\n\r\n        this.emote = \" \";\r\n        this.keydown = \" \";\r\n        this.room = \"/lobby\"\r\n    }\r\n\r\n    // avoid gradual synchronization of velocity\r\n    get bending() {\r\n        return { velocity: { percent: 0.0 } };\r\n    }\r\n\r\n    syncTo(other) {\r\n        super.syncTo(other);\r\n        this.color = other.color;\r\n        this.emote = other.emote;\r\n        this.keydown = other.keydown;\r\n        this.room = other.room;\r\n    }\r\n}"],"file":"Player.js"}